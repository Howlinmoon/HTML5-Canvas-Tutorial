<!doctype html>
<html>
<head>
	<meta charset=utf-8>
	<title>HTML5 Canvas Tutorial lesson 09</title>
	<style>
		body { margin: 40px; background: #666; }
		#my_canvas { background: #fff; border: #000 1px solid;}
	</style>
	
	<script>
	
	var pic = new Image();
	pic.src = "d12-sheet0.png";
	
	function draw() {
		var ctx = document.getElementById('my_canvas').getContext('2d');
		console.log(ctx.canvas.id+" | "+ctx.canvas.width+" | "+ctx.canvas.height);
		
		ctx.drawImage(pic, 0, 0);
		
		ctx.fillStyle = "magenta";
		ctx.fillRect(20,20, 100,100);
		ctx.fillStyle = "blue";
		ctx.fillRect(40,40, 100, 100);
		
		//var src = ctx.getImageData(x, y, w, h);
		var src = ctx.getImageData(0, 0, 100, 100);
		ctx.putImageData(src, 250, 20);
		
		var copy = ctx.createImageData( src.width, src.height);
		for (var i = 0; i < copy.data.length; i++) {
			copy.data[i] = src.data[i];
		}
		
		ctx.putImageData(copy, 250, 150);
		
		// short cut to the for..loop copy method
		// but does not work in IE
		// copy.data.set(src.data);
		
		
	}
	
	window.onload = draw;
	</script>
	
</head>

<body>
<!-- 
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
-->
<script>

</script>

<canvas id="my_canvas" width="800" height = "600"></canvas>


</body>
</html>
